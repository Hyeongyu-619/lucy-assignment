# 한국어 띄어쓰기 교정 시스템 - 제출 문서

## 1. 소스 코드 위치

```
src/core/spacing_corrector.py    # 메인 교정 클래스
src/rules/                        # 숫자/법률/합성명사/패턴 규칙
  ├── number_rules.py
  ├── legal_rules.py
  ├── compound_rules.py
  └── pattern_rules.py
data/dictionaries/                # 245개 금융/법률 용어 사전
tests/test_examples.py            # 테스트 코드
```

## 2. Input/Output 예시

### 실행 방법

```bash
# 가상환경 활성화 후
py -m pytest tests/test_examples.py -v
```

### 예시 1 (List - 관련한)

**Input:**
```python
["투자대상", "의", "규모", "및", "유동성", "등을", "고려하여", "투자하고", "있으며,", "사후적으로", 
 "투자대상의", "특성에", "맞게", "유동성", "위험과", "관", "련한", "내부", "관리"]
```

**Output:**
```python
["투자대상", "의", "규모", "및", "유동성", "등을", "고려하여", "투자하고", "있으며,", "사후적으로", 
 "투자대상의", "특성에", "맞게", "유동성", "위험과", "관련한", "내부", "관리"]
```

**교정 내용:** "관 련한" → "관련한"

---

### 예시 2 (List - 사전에)

**Input:**
```python
["투자자", "는", "수익증권", "입고", "시점을", "사", "전에", "점검하여", "주시기", "바랍니다."]
```

**Output:**
```python
["투자자", "는", "수익증권", "입고", "시점을", "사전에", "점검하여", "주시기", "바랍니다."]
```

**교정 내용:** "사 전에" → "사전에"

---

### 예시 3 (List - 수익자)

**Input:**
```python
["수", "익자가", "당해", "환매청구접수의", "취소를", "하지", "아니하였을", "경우"]
```

**Output:**
```python
["수익자가", "당해", "환매청구접수의", "취소를", "하지", "아니하였을", "경우"]
```

**교정 내용:** "수 익자가" → "수익자가"

---

### 예시 4 (List - 괄호 + 비용)

**Input:**
```python
["총보수･비용", "비율은", "이", "투자신탁에서", "지출되는", "보수와", "기타비용", "총액을", 
 "순자산", "(연평잔액보수", "및", "비", "용", "차감전", "기준)으로", "나누어", "산출합니다."]
```

**Output:**
```python
["총보수･비용", "비율은", "이", "투자신탁에서", "지출되는", "보수와", "기타비용", "총액을", 
 "순자산", "연평잔액(보수", "및", "비용", "차감전", "기준)으로", "나누어", "산출합니다."]
```

**교정 내용:** 
- "(연평잔액보수" → "연평잔액(보수" (괄호 위치)
- "비 용" → "비용"

---

### 예시 5 (List - 숫자)

**Input:**
```python
["고위험자산에", "8", "0%이상", "투자하는", "집합투자기구"]
```

**Output:**
```python
["고위험자산에", "80%이상", "투자하는", "집합투자기구"]
```

**교정 내용:** "8" + "0%이상" → "80%이상"

---

### 예시 6 (List - 정상 케이스)

**Input:**
```python
["기준일", "현재", "동", "운용전문인력이", "운용", "중인", "성과보수가", "약정된", 
 "집합투자기구는", "없습니다."]
```

**Output:**
```python
["기준일", "현재", "동", "운용전문인력이", "운용", "중인", "성과보수가", "약정된", 
 "집합투자기구는", "없습니다."]
```

**교정 내용:** 없음 (정상 케이스)

---

### 예시 7 (List - 것으로서)

**Input:**
```python
["법", "제110조에", "의하여", "신탁회사가", "발행한", "수익증권,", "법", "제9조", "제21항의", 
 "규정에", "의한", "집합투자증권", "및", "법", "제234조의", "규정에", "의한", 
 "상장지수집합투자기구", "집합투자증권(이와", "유사한", "것으로", "서", "외국", "법령에", 
 "따라", "발행된", "것을", "포함)"]
```

**Output:**
```python
["법", "제110조에", "의하여", "신탁회사가", "발행한", "수익증권,", "법", "제9조", "제21항의", 
 "규정에", "의한", "집합투자증권", "및", "법", "제234조의", "규정에", "의한", 
 "상장지수집합투자기구", "집합투자증권(이와", "유사한", "것으로서", "외국", "법령에", 
 "따라", "발행된", "것을", "포함)"]
```

**교정 내용:** "것으로" + "서" → "것으로서"

---

### 예시 8 (String - 법령)

**Input:**
```python
"다음 각 호와 관련된 법 령 및 규정이 변경되는 경우에는 그 변경된 바에 따릅니다."
```

**Output:**
```python
"다음 각 호와 관련된 법령 및 규정이 변경되는 경우에는 그 변경된 바에 따릅니다."
```

**교정 내용:** "법 령" → "법령"

---

### 예시 9 (String - 투자신탁)

**Input:**
```python
"이 투자신탁은 추가 자금납입이 가능한 투 자신탁으로 별도의 신탁계약기간을 정하지 않고 있습니다."
```

**Output:**
```python
"이 투자신탁은 추가 자금납입이 가능한 투자신탁으로 별도의 신탁계약기간을 정하지 않고 있습니다."
```

**교정 내용:** "투 자신탁으로" → "투자신탁으로"

---

### 전체 결과 요약

| 번호 | 타입 | 주요 패턴 | 결과 |
|------|------|-----------|------|
| 1 | List | 관 련한 → 관련한 | ✓ 정확 |
| 2 | List | 사 전에 → 사전에 | ✓ 정확 |
| 3 | List | 수 익자가 → 수익자가 | ✓ 정확 |
| 4 | List | 괄호 위치, 비 용 → 비용 | ✓ 정확 |
| 5 | List | 8 0% → 80% | ✓ 정확 |
| 6 | List | 정상 케이스 | ✓ 정확 |
| 7 | List | 것으로 서 → 것으로서 | ✓ 정확 |
| 8 | String | 법 령 → 법령 | ✓ 정확 |
| 9 | String | 투 자신탁 → 투자신탁 | ✓ 정확 |

**정확도: 9/9 (100%)**

---

## 3. 소스 코드 설명

### 아키텍처

```
[입력 (string/List[str])]
        ↓
[전처리 (Preprocessor)]
  - 타입 변환 (list → string)
  - 보호 패턴 추출 (URL, 이메일 등)
        ↓
[규칙 기반 교정]
  ├─ 숫자 규칙 (NumberRules)
  │   └─ "8 0%" → "80%"
  ├─ 법률 규칙 (LegalRules)  
  │   └─ "법 령" → "법령", "제 110조" → "제110조"
  ├─ 합성명사 규칙 (CompoundRules)
  │   └─ 사전 기반 병합 (245개 용어)
  └─ 패턴 규칙 (PatternRules)
      └─ 괄호, 구두점 정리
        ↓
[후처리 (Postprocessor)]
  - 출력 형식 변환
  - 타입 복원 (string → list)
        ↓
[출력 (입력과 동일 타입)]
```

### 핵심 기술

**1. 규칙 기반 접근**
- LLM 런타임 호출 없음
- 정규표현식 + 사전 기반
- 빠른 처리 속도 (0.05초/9개)

**2. 도메인 특화**
- 245개 금융/법률 용어 사전
- 법령 조항 패턴 (제110조, 제9조 등)
- 금융 합성명사 (투자신탁, 집합투자기구 등)

**3. 타입 안정성**
- 입력 타입 보존 (string → string, list → list)
- 구두점 보존 (있으며, / 바랍니다.)

### 주요 클래스

**SpacingCorrector (메인 클래스)**
```python
from src.core.spacing_corrector import SpacingCorrector

corrector = SpacingCorrector()
result = corrector.correct(input_data)  # string 또는 List[str]
```

**규칙 클래스**
- `NumberRules`: 숫자 교정
- `LegalRules`: 법률 용어 교정  
- `CompoundRules`: 합성명사 교정
- `PatternRules`: 일반 패턴 교정

---

## 4. 에러율

### 평가 지표 (제공된 9개 예시)

```
Accuracy:   100.00%  (9/9 정확)
Char F1:    100.00%  (문자 단위)
Word F1:    100.00%  (어절 단위)
Precision:  100.00%
Recall:     100.00%
```

### 처리 가능 패턴

- ✅ **숫자 분리**: "8 0%" → "80%", "100 ,000" → "100,000"
- ✅ **법률 용어**: "법 령" → "법령", "제 110조" → "제110조"
- ✅ **단어 분리**: "관 련한" → "관련한", "수 익자" → "수익자"
- ✅ **합성명사**: "투자 신탁" → "투자신탁"
- ✅ **괄호 위치**: "(연평잔액보수" → "연평잔액(보수"
- ✅ **조사 분리 허용**: "수익률 이" (정상 처리)

### 에러율

- **제공된 예시**: 0% (9/9 정확)
- **처리 속도**: 0.05초 (9개 예시)
- **경고**: 없음

---

## 5. 설치 및 실행

### 환경 요구사항

- Python 3.8+
- 의존성: requirements.txt 참조

### 설치

```bash
# 1. 가상환경 생성 및 활성화
python -m venv venv
venv\Scripts\activate

# 2. 의존성 설치
pip install -r requirements.txt
pip install -e .
```

### 테스트 실행

```bash
# 가상환경 활성화
venv\Scripts\activate

# 전체 테스트 실행
py -m pytest tests/test_examples.py -v
```

### Python 코드 사용

```python
from src.core.spacing_corrector import SpacingCorrector

corrector = SpacingCorrector()

# 문자열 교정
result = corrector.correct("법 령 및 규정")
print(result)  # "법령 및 규정"

# 리스트 교정
result = corrector.correct(["투자", "신탁", "은"])
print(result)  # ["투자신탁", "은"]
```

---

## 6. 라이선스

사용된 모든 패키지는 BSD/Apache 라이선스로 상업적 사용이 가능합니다.
